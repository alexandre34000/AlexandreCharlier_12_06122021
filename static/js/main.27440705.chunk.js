(this.webpackJsonpsportsee=this.webpackJsonpsportsee||[]).push([[0],{168:function(t,e,a){},169:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),c=a(42),i=a.n(c),s=a(7),o=a(3),l=a(0);var d=function(){return Object(l.jsx)("div",{className:"container-notFound",children:Object(l.jsxs)("section",{className:"content-notFound",children:[Object(l.jsx)("h1",{className:"notFound-title",children:"404"}),Object(l.jsx)("p",{className:"notFound-text",children:"Oups! La page que vous demandez n'existe pas"}),Object(l.jsx)("div",{className:"notFound-link",children:Object(l.jsx)(s.b,{className:"notFound-link__a",to:"/",children:"Retourner sur la page d'acceuil "})})]})})},u=a(4),p=function(t){return fetch("http://localhost:3000/user/".concat(t)).then((function(t){return j(t)}))},h=function(t){return fetch("http://localhost:3000/user/".concat(t,"/activity")).then((function(t){return j(t)}))},f=function(t){return fetch("http://localhost:3000/user/".concat(t,"/average-sessions")).then((function(t){return j(t)}))},m=function(t){return fetch("http://localhost:3000/user/".concat(t,"/performance")).then((function(t){return j(t)}))},j=function(t){try{return t.status>=400?t.text().then((function(t){throw new Error("Server responds with error!")})):t.json()}catch(e){console.log(e)}},b=function(){return Object(l.jsxs)("div",{className:"content-sidebar",children:[Object(l.jsxs)("ul",{className:"content-sidebar__icon",children:[Object(l.jsx)("li",{children:Object(l.jsx)("img",{className:"sidebar-icon__logo",src:"/AlexandreCharlier_12_06122021/iconYoga.png",alt:"logo"})}),Object(l.jsx)("li",{children:Object(l.jsx)("img",{className:"sidebar-icon__logo",src:"/AlexandreCharlier_12_06122021/iconSwPool.png",alt:"logo"})}),Object(l.jsx)("li",{children:Object(l.jsx)("img",{className:"sidebar-icon__logo",src:"/AlexandreCharlier_12_06122021/iconBiker.png",alt:"logo"})}),Object(l.jsx)("li",{children:Object(l.jsx)("img",{className:"sidebar-icon__logo",src:"/AlexandreCharlier_12_06122021/iconAlter.png",alt:"logo"})})]}),Object(l.jsx)("p",{className:"content-sidebar__text",children:"copyrigth,SportSee.2020"})]})},g=a(2),x=function(t){var e=t.propsData;return Object(n.useEffect)((function(){!function(t){var e=document.getElementById("barchart").clientWidth,a=document.getElementById("barchart").clientHeight,n=t.data.sessions,r=[];n.forEach((function(t){t.day=t.day.slice(9,10),r.push(t.kilogram)}));var c=Math.max.apply(Math,r)-Math.min.apply(Math,r),i={top:70,right:60,bottom:30,left:60},s=e-i.left-i.right,o=a-i.top-i.bottom,l=g.m().domain(n.map((function(t){return t.day}))).range([0,s]).padding(.9),d=g.n().domain([g.k(n,(function(t){return t.kilogram}))-1,g.j(n,(function(t){return t.kilogram}))]).nice().range([o,0]),u=g.n().domain([g.k(n,(function(t){return t.calories}))-100,g.j(n,(function(t){return t.calories}))+100]).nice().range([o,0]),p=function(t){return t.attr("class","barchart-xAxis").attr("transform","translate(0,".concat(o+5,")")).call(g.b(l).tickSize(0)).call((function(t){return t.select(".domain").remove()}))},h=function(t){return t.attr("class","barchart-yAxis").attr("transform","translate(".concat(s,",0)")).style("font-size","12px").call(g.d(d).tickFormat(g.g(".2")).ticks(c+1).tickSize(-s)).call((function(t){return t.select(".domain").remove()}))},f=g.o("#barchart");f.selectAll("*").remove();var m=f.append("svg").attr("width",s+i.left+i.right).attr("height",o+i.top+i.bottom);m.append("text").attr("x",i.left).attr("y",i.top/4).text("Activit\xe9 quotidienne").style("font-size","1.5rem").attr("alignment-baseline","central"),m.append("circle").attr("cx",s-80).attr("cy",i.top/4).attr("r",6).style("fill","#E60000"),m.append("circle").attr("cx",s-180).attr("cy",i.top/4).attr("r",6).style("fill","#E282D30"),m.append("text").attr("x",s-70).attr("y",i.top/4).text("Calories br\xfbl\xe9es (kCal)").style("font-size","1.5rem").attr("alignment-baseline","central").attr("class","bar-chart__text-legend").style("text-anchor","start"),m.append("text").attr("x",s-170).attr("y",i.top/4).text("Poids (kg)").style("font-size","1.5rem").attr("alignment-baseline","central").attr("class","bar-chart__text-legend").style("text-anchor","start");var j=m.append("g").attr("transform","translate("+i.left+","+i.top+")"),b=g.o("#barchart").append("div").attr("class","tooltip").style("opacity",0),x=j.selectAll(null).data(n).enter();x.append("rect").attr("class","bar").style("fill","#E282D30").attr("x",(function(t){return l(t.day)-3})).attr("width",5).attr("y",(function(t){return d(t.kilogram)})).attr("height",(function(t){return o-d(t.kilogram)})),x.append("rect").attr("class","bar").style("fill","#E60000").attr("x",(function(t){return l(t.day)+8})).attr("width",5).attr("y",(function(t){return u(t.calories)})).attr("height",(function(t){return o-u(t.calories)})),x.append("rect").attr("class","barhover").attr("x",(function(t){return l(t.day)-15})).attr("width",40).attr("y",(function(t){return d(g.j(n,(function(t){return t.kilogram})))})).attr("height",(function(t){return o})).on("mouseover",(function(t,e){g.p(".barhover").style("opacity",0),g.o(this).transition().duration(200).style("opacity","0.5"),b.transition().duration(200).style("opacity",.9),b.html((function(){return"<p>".concat(e.kilogram,"kg</p><p>").concat(e.calories,"kcal</p>")})).style("left",90+l(e.day)+"px").style("top",d(e.kilogram)+i.top+"px")})).on("mouseout",(function(t,e){g.p(".barhover").style("opacity",0),b.style("opacity",0)})),j.append("g").call(h),j.append("g").call(p)}(e)}),[e]),Object(l.jsx)("div",{className:"content-barchart",id:"barchart"})},y=function(t){var e=t.propsDataAverage;Object(n.useEffect)((function(){if(e){var t=e.data.sessions;a(t)}}),[e]);var a=function(t){var e=document.getElementById("linechart").clientWidth,a=document.getElementById("linechart").clientHeight,n=80,r=30,c=30,i=30,s=e-i-r,o=a-n-c,l=["Lu","Ma","Me","Je","Ve","Sa","Di"],d=100,u=g.n().domain([t[0].day,t.length]).range([0,s]),p=g.n().domain([g.k(t,(function(t){return t.sessionLength})),g.j(t,(function(t){return t.sessionLength}))]).range([o,0]),h=g.i().x((function(t){return u(t.day)})).y((function(t){return p(t.sessionLength)})).curve(g.f),f=g.o("#linechart");f.selectAll("*").remove();var m=f.append("svg").attr("width",s+i+r).attr("height",o+n+c),j=m.append("defs").append("linearGradient").attr("id","mainGradient");j.append("stop").attr("class","stop-left").attr("offset","0%");var b=j.append("stop").attr("class","stop-left").attr("offset","".concat(d,"%"));j.append("stop").attr("class","stop-right").attr("offset","0%"),j.append("stop").attr("class","stop-right").attr("offset","100%"),m.append("rect").classed("filled",!0).attr("x",0).attr("y",0).attr("width",s+i).attr("height",o+n+c),m.append("text").attr("class","line-chart__legend").attr("x",5).attr("y",n/4).text("Dur\xe9e moyenne des sessions").style("font-size","1.5rem").attr("alignment-baseline","middle").style("fill","white");var x=m.append("g").attr("transform","translate("+i+","+(n-20)+")");x.append("path").data(t).attr("fill","none").attr("stroke","white").attr("stroke-width",2).attr("class","line").attr("d",h(t));var y=m.append("g").append("rect").attr("class","dotted").attr("stroke-width","1px").attr("width",".5px").attr("height",o+n+c).style("opacity","0"),v=x.append("g").append("circle").style("fill","white").attr("stroke","black").attr("r",4).style("opacity",0),O=g.o("#linechart").append("div").attr("class","focus-text").style("opacity",0);x.append("rect").style("fill","none").style("pointer-events","all").attr("width",s).attr("height",o).on("click",onclick).on("mousemove",(function(e){var a=g.e((function(t){return t.day})).left,n=g.l(e),r=u.invert(n[0])+1,c=a(t,r),o=t.filter((function(t){return t.day===c}));if(r>=1){var l=o[0].sessionLength;v.style("opacity","1").attr("cx",u(c)).attr("cy",p(l)),y.attr("x",u(r)).style("opacity","1"),O.html((function(){return"<p>".concat(o[0].sessionLength,"min</p>")})).style("opacity","1").style("left",u(c)+30+"px").style("top",p(l)+60+"px").style("border-radius","2px");var h=s+i;d=u(r)/h*100,b.attr("offset","".concat(d,"%"))}})).on("mouseout",(function(){v.style("opacity",0),O.style("opacity",0),y.style("opacity",0)})),x.append("g").call((function(t){return t.attr("class","linechart-xAxis").attr("transform","translate(0,"+(o+20)+")").style("font-size","12px").style("color","white").call(g.b(u).ticks(5).tickSize(0).tickFormat((function(t,e){return l[e]}))).call((function(t){return t.select(".domain").remove()}))}))};return Object(l.jsx)("div",{className:"line-chart",id:"linechart"})},v=a(28),O=function(t){var e=t.propsDataPerformance.data;return Object(n.useEffect)((function(){!function(t){var a=document.getElementById("radarchart").clientWidth,n=document.getElementById("radarchart").clientHeight,r={top:5,right:5,bottom:5,left:5},c=a-r.left-r.right,i=n-r.top-r.bottom,s=Object.keys(t.kind).length,o={nbLevel:5,offset:Math.PI,size:Math.min(c,i),polyangle:2*Math.PI/s,r_0:.7*Math.min(c,i)/2},l={x:o.size/2,y:o.size/2},d=g.o("#radarchart");d.selectAll("*").remove();var p=d.append("svg").attr("width",o.size+r.right+r.left).attr("height",o.size+r.top+r.bottom).append("g").attr("transform","translate( 0 ,"+2*r.top+")"),h=g.n().domain([0,g.j(e.data,(function(t){return t.value}))]).range([0,o.r_0]),f=function(t){var e=t.length,a=t.angle;return{x:l.x+e*Math.sin(o.offset-a),y:l.x+e*Math.cos(o.offset-a)}},m=function(t,e){var a=g.i().x((function(t){return t.x})).y((function(t){return t.y}));e.append("path").attr("d",a(t))},j=function(t,e){for(var a=1;a<=t;a++){for(var n=a/t*o.r_0,r=[],c=0;c<e;c++){var i=c*o.polyangle;r.push(f({length:n,angle:i}))}var s=p.append("g").attr("class","levels").attr("fill","none").attr("stroke","white").attr("stroke-width",2);m([].concat(r,[r[0]]),s)}},b=function(t){p.append("g").attr("class","indic").selectAll("circle").data(t).enter().append("circle").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("r",1).attr("fill","red")},x=function(t,e){var a=[];t.forEach((function(t,n){var r=h(t.value),c=n*(2*Math.PI/e);a.push(Object(v.a)(Object(v.a)({},f({length:r,angle:c})),{},{value:t.value}))}));var n=p.append("g").attr("class","shape").attr("fill","red").style("opacity",.7);m([].concat(a,[a[0]]),n),b(a)},y=function(t,e,a){a.append("text").attr("x",e.x).attr("y",e.y).html(t).attr("fill","white").style("text-anchor","middle").style("font-size","12px").style("font-family","sans-serif")},O=function(t,e){for(var a=p.append("g").attr("class","labels"),n=0;n<e;n++){var r=n*o.polyangle,c=t[n].name,i=f({length:o.size/2*.9,angle:r});y(c,i,a)}},_=function(){var t=[];return e.data.forEach((function(a){var n=a.kind;return t.push({name:Object.entries(e.kind).filter((function(t){var e=Object(u.a)(t,2),a=e[0];e[1];return a===n.toString()})).map((function(t){return t[1]})),value:a.value})})),t}();j(o.nbLevel,s),x(_,s),O(_,s)}(e)}),[e]),Object(l.jsx)("div",{className:"radar-chart",id:"radarchart"})},_=function(t){var e=t.propsDataRadial.data;return Object(n.useEffect)((function(){!function(){var t=document.getElementById("radialchart").clientWidth,a=document.getElementById("radialchart").clientHeight,n={top:10,right:10,bottom:10,left:10},r=t-n.left-n.right,c=a-n.top-n.bottom,i={PI:Math.PI,arcMinRadius:.5*Math.min(r,c)/2,arcPadding:2,size:Math.min(r,c),arcMaxRadius:.8*Math.min(r,c)/2},s={x:i.size/2,y:i.size/2+n.top},o=[{score:100*e.score},{score:100}],l=g.o("#radialchart");l.selectAll("*").remove();var d=l.append("svg").attr("width",i.size+n.right+n.left).attr("height",i.size+n.top+n.bottom).append("g").attr("transform","translate("+(s.x+n.left)+" ,"+(s.y+n.top)+")");l.append("div").attr("class","radial-text__score").style("position","absolute").style("width","100px").style("top",s.y-35+"px").style("left",s.x-35+"px").html('<p style="font-size: 2.6rem; font-weight:700">'.concat(o[0].score,'%</p><p style="font-color: #74798C;">de votre objectif</p>')),d.append("text").attr("class","radial-text__legend").attr("x",2*n.left-s.x).attr("y",2*n.top-s.y).text("Score").attr("alignment-baseline","central");var u=g.n().domain([0,g.j(o,(function(t){return t.score}))]).range([0,2*i.PI]),p=o.map((function(t,e){return t.name})).length,h=(i.arcMaxRadius-i.arcMinRadius-p*i.arcPadding)/p,f=g.a().innerRadius((function(t,e){return j(e)})).outerRadius((function(t,e){return b(e)})).startAngle(0).endAngle((function(t,e){return-u(t)})).cornerRadius(10);function m(t,e){var a=g.h(0,t.score);return function(t){return f(a(t),e)}}function j(t){return i.arcMinRadius+(p-(t+1))*(h+i.arcPadding)}function b(t){return j(t)+h}d.append("g").attr("class","r axis").selectAll("g").data(o).enter().append("g").append("circle").attr("r",(function(t,e){return b(e)+i.arcPadding})).attr("class",(function(t,e){return"radialcircle".concat(e)})),d.append("g").attr("class","data").selectAll("path").data(o).enter().append("path").attr("class",(function(t,e){return"arc".concat(e)})).transition().delay((function(t,e){return 200*e})).duration(1e3).attrTween("d",m)}()})),Object(l.jsx)("div",{className:"radial-chart",id:"radialchart"})},k=function(t){var e=t.propsDataKey;return Object(l.jsx)("div",{className:"container-keydata",children:Object(l.jsxs)("div",{className:"content-keydata",children:[Object(l.jsx)("div",{className:"keydata-logo",style:{backgroundColor:e.background},children:Object(l.jsx)("img",{className:"keydata-logo__img",src:e.img,alt:""})}),Object(l.jsxs)("div",{className:"keydata-text",children:[Object(l.jsx)("p",{className:"keydata-text__value",children:e.value}),Object(l.jsx)("p",{className:"keydata-text__name",children:e.name})]})]})})};var N=function(){var t=Object(n.useState)(null),e=Object(u.a)(t,2),a=e[0],r=e[1],c=Object(n.useState)([]),i=Object(u.a)(c,2),s=i[0],d=i[1],j=Object(n.useState)([]),g=Object(u.a)(j,2),v=g[0],N=g[1],A=Object(n.useState)(),w=Object(u.a)(A,2),z=w[0],E=w[1],M=Object(n.useState)(!1),C=Object(u.a)(M,2),S=C[0],D=C[1],F=Object(o.g)().id,P=Object(n.useState)([]),I=Object(u.a)(P,2),R=I[0],B=I[1],L=Object(n.useState)([]),H=Object(u.a)(L,2),W=H[0],G=H[1];Object(n.useEffect)((function(){Promise.all([p(F).then((function(t){r(t)})),h(F).then((function(t){d(t)})),f(F).then((function(t){B(t)})),m(F).then((function(t){N(t)}))]).then((function(t){E(!1)})).catch((function(t){E(!0)}))}),[F]),Object(n.useEffect)((function(){a&&!1===z&&J()}),[a,z]);var J=function(){G((function(){return[{name:"Calories",value:"".concat(parseFloat(a.data.keyData.calorieCount/1e3).toFixed(3),"Kcal"),img:"".concat("/AlexandreCharlier_12_06122021","/iconcalorie.png"),background:"#FF000020"},{name:"Proteines",value:"".concat(a.data.keyData.proteinCount,"g"),img:"".concat("/AlexandreCharlier_12_06122021","/iconproteine.png"),background:"#4ABAFF20"},{name:"Glucides",value:"".concat(a.data.keyData.carbohydrateCount,"g"),img:"".concat("/AlexandreCharlier_12_06122021","/iconglucide.png"),background:"#F9CE2320"},{name:"Lipides",value:"".concat(a.data.keyData.lipidCount,"g"),img:"".concat("/AlexandreCharlier_12_06122021","/cheeseburger.png"),background:"#FF000020"}]})),D(!0)};return Object(l.jsxs)("div",{className:"container-profil",children:[Object(l.jsx)("div",{className:"container-profil__sidebar",children:Object(l.jsx)(b,{})}),S&&Object(l.jsxs)("section",{className:"container-profil__dashboard",children:[Object(l.jsxs)("div",{className:"content__dashboard-header",children:[Object(l.jsx)("h1",{className:"sr-only",children:"R\xe9sum\xe9 des performances de ".concat(a.data.userInfos.firstName)}),Object(l.jsxs)("h2",{className:"dashboard-header__user",children:["Bonjour ",Object(l.jsx)("span",{children:"".concat(a.data.userInfos.firstName)})]},"".concat(a.data.id)),Object(l.jsx)("p",{className:"dashboard-header__resume",children:"F\xe9licitation ! vous avez explos\xe9 vos objectifs hier ! \ud83d\udc4f"})]}),Object(l.jsxs)("div",{className:"content-dashboard__activities",children:[Object(l.jsxs)("div",{className:"dashboard-activities__center",children:[Object(l.jsx)("div",{className:"dashboard-activity__today",children:Object(l.jsx)(x,{propsData:s})}),Object(l.jsxs)("div",{className:"profil__activity-group",children:[Object(l.jsx)("div",{className:"profil__activity-coverage",children:Object(l.jsx)(y,{propsDataAverage:R})}),Object(l.jsx)("div",{className:"profil__activity-radar",children:Object(l.jsx)(O,{propsDataPerformance:v})}),Object(l.jsx)("div",{className:"profil__activity-score",children:Object(l.jsx)(_,{propsDataRadial:a})})]})]}),Object(l.jsx)("div",{className:"profil__activity-side",children:W.map((function(t){return Object(l.jsx)(k,{propsDataKey:t},t.name)}))})]})]}),z&&Object(l.jsx)("h1",{className:"error",children:"Serveur en maintenance"})]})},A=function(){return[{path:"/profil/:id",component:N}]},w=function(){return Object(l.jsx)("nav",{className:"navbar",children:Object(l.jsxs)("ul",{className:"navbar__ul",children:[Object(l.jsx)("li",{children:Object(l.jsx)(s.c,{className:"navbar__link",to:"/Accueil",children:"Accueil"})}),Object(l.jsx)("li",{children:Object(l.jsx)(s.c,{className:"navbar__link",to:"/Profil",children:"Profil"})}),Object(l.jsx)("li",{children:Object(l.jsx)(s.c,{className:"navbar__link",to:"/Reglage",children:"R\xe9glage"})}),Object(l.jsx)("li",{children:Object(l.jsx)(s.c,{className:"navbar__link",to:"/Communaute",children:"Communaut\xe9"})})]})})},z=function(){return Object(l.jsxs)("header",{className:"content-header",children:[Object(l.jsx)("div",{className:"content-logo",children:Object(l.jsx)("img",{className:"logo",src:"/AlexandreCharlier_12_06122021/logo.png",alt:"logo"})}),Object(l.jsx)("div",{className:"content-navbar",children:Object(l.jsx)(w,{})})]})},E=function(){return Object(l.jsxs)(s.a,{children:[Object(l.jsx)(z,{}),Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.a,{exact:!0,from:"/",to:"/profil/".concat(18)}),A().map((function(t,e){return Object(l.jsx)(o.b,{path:t.path,component:t.component},e)})),Object(l.jsx)(o.b,{path:"*",component:d})]})]})};a(168);i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(E,{})}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.27440705.chunk.js.map